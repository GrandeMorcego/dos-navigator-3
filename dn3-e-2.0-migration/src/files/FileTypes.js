const testRE = ( regExps, name ) => regExps.find(re => re.test(name) );

const fileTypes = [
    {
        id: "upDir",
        isDir: true,
        name: '..',
        sort: 1,
        test: (file) => (file.isDir && file.name === '..'),
    },
    {
        id: "dir",
        isDir: true,
        sort: 2,
        test: (file) => (file.isDir),
    },
    {
        id: "exe",
        canRun: true,
        sort: 3,
        test: (file) => (file.canRun),
    },
    {
        id: "arc",
        sort: 4,
        ext: {
            ".7Z": true,
            ".ACE": true,
            ".AGG": true,
            ".AIN": true,
            ".ALZ": true,
            ".APZ": true,
            ".AR": true,
            ".ARC": true,
            ".ARCHIVER": true,
            ".ARDUBOY": true,
            ".ARH": true,
            ".ARI": true,
            ".ARJ": true,
            ".ARK": true,
            ".ASR": true,
            ".B1": true,
            ".B64": true,
            ".B6Z": true,
            ".BA": true,
            ".BDOC": true,
            ".BH": true,
            ".BNDL": true,
            ".BOO": true,
            ".BUNDLE": true,
            ".BZ": true,
            ".BZ2": true,
            ".BZA": true,
            ".BZIP": true,
            ".BZIP2": true,
            ".C00": true,
            ".C01": true,
            ".C02": true,
            ".C10": true,
            ".CAR": true,
            ".CB7": true,
            ".CBA": true,
            ".CBR": true,
            ".CBT": true,
            ".CBZ": true,
            ".CDZ": true,
            ".COMPPKG.HAUPTWERK.RAR": true,
            ".COMPPKG_HAUPTWERK_RAR": true,
            ".CP9": true,
            ".CPGZ": true,
            ".CPT": true,
            ".CTX": true,
            ".CTZ": true,
            ".CXARCHIVE": true,
            ".CZIP": true,
            ".DAR": true,
            ".DD": true,
            ".DEB": true,
            ".DGC": true,
            ".DIST": true,
            ".DL_": true,
            ".DZ": true,
            ".ECS": true,
            ".EDZ": true,
            ".EFW": true,
            ".EGG": true,
            ".EPI": true,
            ".F": true,
            ".FDP": true,
            ".FP8": true,
            ".FZBZ": true,
            ".FZPZ": true,
            ".GCA": true,
            ".GMZ": true,
            ".GZ": true,
            ".GZ2": true,
            ".GZA": true,
            ".GZI": true,
            ".GZIP": true,
            ".HA": true,
            ".HBC": true,
            ".HBC2": true,
            ".HBE": true,
            ".HKI": true,
            ".HKI1": true,
            ".HKI2": true,
            ".HKI3": true,
            ".HPK": true,
            ".HYP": true,
            ".IADPROJ": true,
            ".ICE": true,
            ".IPG": true,
            ".IPK": true,
            ".ISH": true,
            ".ISX": true,
            ".ITA": true,
            ".IZE": true,
            ".J": true,
            ".JAR": true,
            ".JGZ": true,
            ".JIC": true,
            ".JSONLZ4": true,
            ".KGB": true,
            ".KZ": true,
            ".LAYOUT": true,
            ".LBR": true,
            ".LEMON": true,
            ".LHA": true,
            ".LHZD": true,
            ".LIBZIP": true,
            ".LNX": true,
            ".LPKG": true,
            ".LQR": true,
            ".LZ": true,
            ".LZH": true,
            ".LZM": true,
            ".LZMA": true,
            ".LZO": true,
            ".LZX": true,
            ".MD": true,
            ".MINT": true,
            ".MOU": true,
            ".MPKG": true,
            ".MZP": true,
            ".MZP": true,
            ".NEX": true,
            ".NPK": true,
            ".NZ": true,
            ".OAR": true,
            ".OPK": true,
            ".OZ": true,
            ".P01": true,
            ".P19": true,
            ".PACK": true,
            ".PACKAGE": true,
            ".PAE": true,
            ".PAK": true,
            ".PAQ6": true,
            ".PAQ7": true,
            ".PAQ8": true,
            ".PAQ8F": true,
            ".PAQ8L": true,
            ".PAQ8P": true,
            ".PAR": true,
            ".PAR2": true,
            ".PAX": true,
            ".PBI": true,
            ".PCV": true,
            ".PEA": true,
            ".PET": true,
            ".PF": true,
            ".PIM": true,
            ".PIT": true,
            ".PIZ": true,
            ".PKG": true,
            ".PSZ": true,
            ".PUP": true,
            ".PUP": true,
            ".PUZ": true,
            ".PVMZ": true,
            ".PWA": true,
            ".QDA": true,
            ".RAR": true,
            ".REV": true,
            ".RK": true,
            ".RNC": true,
            ".RP9": true,
            ".RPM": true,
            ".RSS": true,
            ".RTE": true,
            ".RZ": true,
            ".S7Z": true,
            ".SAR": true,
            ".SBX": true,
            ".SBX": true,
            ".SDC": true,
            ".SDN": true,
            ".SEA": true,
            ".SEN": true,
            ".SFG": true,
            ".SFS": true,
            ".SFX": true,
            ".SHAR": true,
            ".SHK": true,
            ".SHR": true,
            ".SIFZ": true,
            ".SIT": true,
            ".SITX": true,
            ".SMPF": true,
            ".SNAPPY": true,
            ".SNB": true,
            ".SPD": true,
            ".SPT": true,
            ".SQX": true,
            ".SQZ": true,
            ".SREP": true,
            ".STPROJ": true,
            ".SY_": true,
            ".TAZ": true,
            ".TBZ": true,
            ".TBZ2": true,
            ".TCX": true,
            ".TG": true,
            ".TGZ": true,
            ".TLZ": true,
            ".TLZMA": true,
            ".TRS": true,
            ".TX_": true,
            ".TXZ": true,
            ".TZ": true,
            ".UC2": true,
            ".UHA": true,
            ".UZIP": true,
            ".VEM": true,
            ".VFS": true,
            ".VIP": true,
            ".VOCA": true,
            ".VSI": true,
            ".WA": true,
            ".WAFF": true,
            ".WAR": true,
            ".WDZ": true,
            ".WHL": true,
            ".WLB": true,
            ".WOT": true,
            ".WUX": true,
            ".XAPK": true,
            ".XAR": true,
            ".XEF": true,
            ".XEZ": true,
            ".XIP": true,
            ".XMCDZ": true,
            ".XX": true,
            ".XZ": true,
            ".XZM": true,
            ".Y": true,
            ".YZ": true,
            ".YZ1": true,
            ".Z": true,
            ".ZAP": true,
            ".ZFSENDTOTARGET": true,
            ".ZI": true,
            ".ZI_": true,
            ".ZIP": true,
            ".ZIPX": true,
            ".ZIX": true,
            ".ZL": true,
            ".ZOO": true,
            ".ZPI": true,
            ".ZSPLIT": true,
            ".ZW": true,
            ".ZZ": true,
        },  

        regExp: [
                    /\.7[Zz]\.[0-9][0-9][0-9]$/,
                    /\.[AaRrSsZz012][0-9]+$/,
                    /\.TAR\.(BZ2|GZ|GZ2|LZ|LZMA|XZ|Z)$/u,
                    /\.UFS\.UZIP$/
                ],

        test: function (file) { return (!file.isDir && (this.ext[file.ext] || testRE(this.regExp, file.name) ))},
    } 
];

module.exports = fileTypes;
